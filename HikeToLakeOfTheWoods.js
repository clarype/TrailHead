(function ($) {
    'use strict';


    $.fn.storymap = function(options) {

        var defaults = {
            selector: '[data-place]',
            breakpointPos: '33.333%',
            createMap: function () {
                // create a map in the "map" div, set the view to a given place and zoom
                var map = L.map('map').setView([44.5756, -121.8601], 13);

                // add an OpenStreetMap tile layer
                L.tileLayer('http://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);





                return map;
            }
        };

        var settings = $.extend(defaults, options);


        if (typeof(L) === 'undefined') {
            throw new Error('Storymap requires Laeaflet');
        }
        if (typeof(_) === 'undefined') {
            throw new Error('Storymap requires underscore.js');
        }

        function getDistanceToTop(elem, top) {
            var docViewTop = $(window).scrollTop();

            var elemTop = $(elem).offset().top;

            var dist = elemTop - docViewTop;

            var d1 = top - dist;

            if (d1 < 0) {
                return $(document).height();
            }
            return d1;

        }

        function highlightTopPara(paragraphs, top) {

            var distances = _.map(paragraphs, function (element) {
                var dist = getDistanceToTop(element, top);
                return {el: $(element), distance: dist};
            });

            var closest = _.min(distances, function (dist) {
                return dist.distance;
            });

            _.each(paragraphs, function (element) {
                var paragraph = $(element);
                if (paragraph[0] !== closest.el[0]) {
                    paragraph.trigger('notviewing');
                }
            });

            if (!closest.el.hasClass('viewing')) {
                closest.el.trigger('viewing');
            }
        }

        function watchHighlight(element, searchfor, top) {
            var paragraphs = element.find(searchfor);
            highlightTopPara(paragraphs, top);
            $(window).scroll(function () {
                highlightTopPara(paragraphs, top);
            });
        }

        var makeStoryMap = function (element, markers) {

            var topElem = $('<div class="breakpoint-current"></div>')
                .css('top', settings.breakpointPos);
            $('body').append(topElem);

            var top = topElem.offset().top - $(window).scrollTop();

            var searchfor = settings.selector;

            var paragraphs = element.find(searchfor);

            paragraphs.on('viewing', function () {
                $(this).addClass('viewing');
            });

            paragraphs.on('notviewing', function () {
                $(this).removeClass('viewing');
            });

            watchHighlight(element, searchfor, top);

            var map = settings.createMap();

            var initPoint = map.getCenter();

            var initZoom = map.getZoom();

            // var path = L.featureGroup().addto(map);

            var fg = L.featureGroup().addTo(map);

            var HikeToJornLake = L.polyline([[	44.57721588	,	-121.8950861	]	,
                [	44.57723047	,	-121.8951098	]	,
                [	44.57672822	,	-121.8945083	]	,
                [	44.57668212	,	-121.8944521	]	,
                [	44.57653603	,	-121.8941693	]	,
                [	44.57642606	,	-121.8939759	]	,
                [	44.57638825	,	-121.8937675	]	,
                [	44.57636068	,	-121.8935299	]	,
                [	44.57629412	,	-121.8932602	]	,
                [	44.57625817	,	-121.8929951	]	,
                [	44.57620419	,	-121.8927934	]	,
                [	44.57619346	,	-121.8925742	]	,
                [	44.57615859	,	-121.8923768	]	,
                [	44.5761741	,	-121.8922172	]	,
                [	44.57619824	,	-121.8920367	]	,
                [	44.57619329	,	-121.8919665	]	,
                [	44.57618583	,	-121.8918635	]	,
                [	44.57616194	,	-121.8914663	]	,
                [	44.57606999	,	-121.8911176	]	,
                [	44.5759845	,	-121.8908603	]	,
                [	44.57593965	,	-121.8906979	]	,
                [	44.57586933	,	-121.8903998	]	,
                [	44.57581736	,	-121.8901194	]	,
                [	44.57575894	,	-121.889813	]	,
                [	44.57574419	,	-121.8896369	]	,
                [	44.57571996	,	-121.8894654	]	,
                [	44.57572474	,	-121.8893373	]	,
                [	44.57577503	,	-121.8891603	]	,
                [	44.57573681	,	-121.8888682	]	,
                [	44.5757312	,	-121.8884771	]	,
                [	44.57571384	,	-121.8882452	]	,
                [	44.57561385	,	-121.8877997	]	,
                [	44.57560371	,	-121.8877763	]	,
                [	44.57552768	,	-121.8876732	]	,
                [	44.57554076	,	-121.8874426	]	,
                [	44.57550866	,	-121.8870918	]	,
                [	44.57545602	,	-121.8868209	]	,
                [	44.57548401	,	-121.886394	]	,
                [	44.57547094	,	-121.8862351	]	,
                [	44.57543154	,	-121.8859501	]	,
                [	44.57539475	,	-121.8858601	]	,
                [	44.57537924	,	-121.8858237	]	,
                [	44.57537304	,	-121.8858123	]	,
                [	44.57521512	,	-121.8854905	]	,
                [	44.57507506	,	-121.8852175	]	,
                [	44.57494187	,	-121.8849584	]	,
                [	44.57481187	,	-121.8846076	]	,
                [	44.57473283	,	-121.8844233	]	,
                [	44.57471967	,	-121.8842329	]	,
                [	44.57465362	,	-121.8840785	]	,
                [	44.57448112	,	-121.8838132	]	,
                [	44.57430493	,	-121.8835302	]	,
                [	44.5741611	,	-121.883345	]	,
                [	44.57397033	,	-121.8831745	]	,
                [	44.57383228	,	-121.8829673	]	,
                [	44.57366095	,	-121.8826898	]	,
                [	44.57352667	,	-121.88244	]	,
                [	44.57339516	,	-121.8822589	]	,
                [	44.57328326	,	-121.8820547	]	,
                [	44.57323029	,	-121.8819155	]	,
                [	44.57317354	,	-121.8817278	]	,
                [	44.57315669	,	-121.8816429	]	,
                [	44.57306835	,	-121.881433	]	,
                [	44.57306039	,	-121.8814172	]	,
                [	44.5730396	,	-121.8813482	]	,
                [	44.57303583	,	-121.8811209	]	,
                [	44.57308645	,	-121.8806457	]	,
                [	44.57307916	,	-121.8802743	]	,
                [	44.57307262	,	-121.880258	]	,
                [	44.57307933	,	-121.8800989	]	,
                [	44.57307564	,	-121.8797825	]	,
                [	44.57314856	,	-121.8794908	]	,
                [	44.57335459	,	-121.8791698	]	,
                [	44.57350044	,	-121.8791031	]	,
                [	44.57364243	,	-121.8792125	]	,
                [	44.57365097	,	-121.8792127	]	,
                [	44.57365508	,	-121.8792163	]	,
                [	44.57369012	,	-121.8792388	]	,
                [	44.57369104	,	-121.8792392	]	,
                [	44.57376413	,	-121.8793061	]	,
                [	44.57375742	,	-121.8791928	]	,
                [	44.57372029	,	-121.8790768	]	,
                [	44.57363404	,	-121.8787985	]	,
                [	44.57361049	,	-121.878665	]	,
                [	44.57362348	,	-121.8785769	]	,
                [	44.57370956	,	-121.8783954	]	,
                [	44.57386228	,	-121.8783669	]	,
                [	44.57404241	,	-121.8783371	]	,
                [	44.57425623	,	-121.8783339	]	,
                [	44.5743776	,	-121.8783113	]	,
                [	44.57448531	,	-121.8782548	]	,
                [	44.57471623	,	-121.8782551	]	,
                [	44.57486057	,	-121.87817	]	,
                [	44.57499669	,	-121.8781409	]	,
                [	44.57520791	,	-121.8781889	]	,
                [	44.57527061	,	-121.8782123	]	,
                [	44.57528939	,	-121.8782095	]	,
                [	44.5755141	,	-121.8781207	]	,
                [	44.57568878	,	-121.8781271	]	,
                [	44.57580236	,	-121.8781297	]	,
                [	44.5758327	,	-121.8780848	]	,
                [	44.57574201	,	-121.8778606	]	,
                [	44.5755965	,	-121.8776971	]	,
                [	44.57543791	,	-121.8775468	]	,
                [	44.57525913	,	-121.8774077	]	,
                [	44.57513608	,	-121.8772984	]	,
                [	44.57504103	,	-121.8772331	]	,
                [	44.57493919	,	-121.8771745	]	,
                [	44.57476703	,	-121.8771311	]	,
                [	44.5745708	,	-121.877075	]	,
                [	44.57440208	,	-121.8769787	]	,
                [	44.57424064	,	-121.8769511	]	,
                [	44.57406915	,	-121.8768057	]	,
                [	44.57390025	,	-121.876673	]	,
                [	44.57370445	,	-121.876526	]	,
                [	44.57358861	,	-121.8764522	]	,
                [	44.57352248	,	-121.8764149	]	,
                [	44.57338485	,	-121.8763085	]	,
                [	44.57319936	,	-121.8762409	]	,
                [	44.57303608	,	-121.8760494	]	,
                [	44.57293684	,	-121.8759606	]	,
                [	44.57291949	,	-121.8759439	]	,
                [	44.57288152	,	-121.8759269	]	,
                [	44.57285503	,	-121.8758931	]	,
                [	44.57280633	,	-121.8757979	]	,
                [	44.57268647	,	-121.8755692	]	,
                [	44.57256502	,	-121.875391	]	,
                [	44.57236905	,	-121.8753031	]	,
                [	44.57223888	,	-121.8751988	]	,
                [	44.57200661	,	-121.8750051	]	,
                [	44.57185524	,	-121.8748114	]	,
                [	44.5717715	,	-121.8746072	]	,
                [	44.57173831	,	-121.8742917	]	,
                [	44.57167955	,	-121.8741773	]	,
                [	44.57164586	,	-121.8740802	]	,
                [	44.5716042	,	-121.8740445	]	,
                [	44.5715353	,	-121.8740007	]	,
                [	44.57143405	,	-121.8739494	]	,
                [	44.5712597	,	-121.8738898	]	,
                [	44.57124864	,	-121.8738843	]	,
                [	44.57116826	,	-121.8738712	]	,
                [	44.57100196	,	-121.873758	]	,
                [	44.57090506	,	-121.8736943	]	,
                [	44.57088687	,	-121.8736853	]	,
                [	44.57087103	,	-121.8736752	]	,
                [	44.57071555	,	-121.8735723	]	,
                [	44.57059359	,	-121.8735495	]	,
                [	44.57050391	,	-121.8734918	]	,
                [	44.57037759	,	-121.8733877	]	,
                [	44.5702693	,	-121.873294	]	,
                [	44.57013158	,	-121.8731022	]	,
                [	44.56999999	,	-121.8730132	]	,
                [	44.56982262	,	-121.8728785	]	,
                [	44.56971567	,	-121.8728032	]	,
                [	44.5695648	,	-121.8726747	]	,
                [	44.569384	,	-121.8725531	]	,
                [	44.56921393	,	-121.8723954	]	,
                [	44.56904998	,	-121.8723337	]	,
                [	44.56884697	,	-121.8722116	]	,
                [	44.56867338	,	-121.8722325	]	,
                [	44.56846417	,	-121.8722842	]	,
                [	44.56826267	,	-121.8722322	]	,
                [	44.56825135	,	-121.8722178	]	,
                [	44.56807491	,	-121.8722702	]	,
                [	44.56794114	,	-121.8722327	]	,
                [	44.56783821	,	-121.8722118	]	,
                [	44.56766428	,	-121.8722166	]	,
                [	44.56760611	,	-121.8721996	]	,
                [	44.56758264	,	-121.8721975	]	,
                [	44.56734384	,	-121.8721731	]	,
                [	44.56733622	,	-121.8721643	]	,
                [	44.56732901	,	-121.8721589	]	,
                [	44.56717587	,	-121.8720583	]	,
                [	44.56713891	,	-121.872026	]	,
                [	44.56696792	,	-121.8718694	]	,
                [	44.56685568	,	-121.8717689	]	,
                [	44.56668704	,	-121.8715708	]	,
                [	44.56655033	,	-121.8713921	]	,
                [	44.56640968	,	-121.8712039	]	,
                [	44.56633366	,	-121.8710157	]	,
                [	44.56627892	,	-121.8706694	]	,
                [	44.56627029	,	-121.8705637	]	,
                [	44.56631983	,	-121.8703116	]	,
                [	44.56635101	,	-121.8701962	]	,
                [	44.56640063	,	-121.8699926	]	,
                [	44.5664127	,	-121.8699874	]	,
                [	44.56648311	,	-121.8698789	]	,
                [	44.56657179	,	-121.8697131	]	,
                [	44.56662158	,	-121.8694453	]	,
                [	44.5666313	,	-121.8694059	]	,
                [	44.56664731	,	-121.8692439	]	,
                [	44.5666572	,	-121.8692009	]	,
                [	44.56673071	,	-121.8689884	]	,
                [	44.56675233	,	-121.8687535	]	,
                [	44.56680489	,	-121.8684762	]	,
                [	44.56686063	,	-121.8682942	]	,
                [	44.56683984	,	-121.8681485	]	,
                [	44.56676633	,	-121.8679126	]	,
                [	44.56672585	,	-121.8678313	]	,
                [	44.56658931	,	-121.8677052	]	,
                [	44.56646148	,	-121.8675333	]	,
                [	44.56644597	,	-121.8674675	]	,
                [	44.56642929	,	-121.86739	]	,
                [	44.566436	,	-121.8673612	]	,
                [	44.56643743	,	-121.8673401	]	,
                [	44.56637322	,	-121.8670884	]	,
                [	44.56628881	,	-121.8668687	]	,
                [	44.56624825	,	-121.8668192	]	,
                [	44.56618949	,	-121.8666374	]	,
                [	44.56613844	,	-121.866419	]	,
                [	44.56612788	,	-121.8663722	]	,
                [	44.56609737	,	-121.8663102	]	,
                [	44.56608849	,	-121.8662768	]	,
                [	44.56602051	,	-121.8660947	]	,
                [	44.56598178	,	-121.8659703	]	,
                [	44.5659097	,	-121.8658337	]	,
                [	44.56586519	,	-121.8657565	]	,
                [	44.56574583	,	-121.8655856	]	,
                [	44.56563561	,	-121.8655236	]	,
                [	44.56552832	,	-121.8654266	]	,
                [	44.56545515	,	-121.8653462	]	,
                [	44.56536236	,	-121.8652121	]	,
                [	44.56526421	,	-121.865148	]	,
                [	44.56517846	,	-121.8651002	]	,
                [	44.56513043	,	-121.8650882	]	,
                [	44.56510831	,	-121.8650707	]	,
                [	44.56510822	,	-121.8650573	]	,
                [	44.56507143	,	-121.8649672	]	,
                [	44.56503773	,	-121.8649436	]	,
                [	44.56494075	,	-121.8648599	]	,
                [	44.56483254	,	-121.8648012	]	,
                [	44.56475895	,	-121.8647515	]	,
                [	44.56469801	,	-121.8646635	]	,
                [	44.56468351	,	-121.8646545	]	,
                [	44.564638	,	-121.8645984	]	,
                [	44.56455125	,	-121.8645011	]	,
                [	44.56445385	,	-121.8643709	]	,
                [	44.56436383	,	-121.8642426	]	,
                [	44.56420826	,	-121.8640559	]	,
                [	44.56418781	,	-121.86403	]	,
                [	44.56409317	,	-121.863828	]	,
                [	44.564034	,	-121.8637215	]	,
                [	44.56394926	,	-121.8635848	]	,
                [	44.56385932	,	-121.8634459	]	,
                [	44.56374323	,	-121.8632767	]	,
                [	44.56364659	,	-121.8630922	]	,
                [	44.56361935	,	-121.863041	]	,
                [	44.56352203	,	-121.8628791	]	,
                [	44.56335523	,	-121.8627579	]	,
                [	44.56330947	,	-121.8626237	]	,
                [	44.56323487	,	-121.8623806	]	,
                [	44.56321232	,	-121.8621194	]	,
                [	44.56315675	,	-121.861769	]	,
                [	44.5630798	,	-121.861578	]	,
                [	44.56303337	,	-121.8613033	]	,
                [	44.56306094	,	-121.8611487	]	,
                [	44.56304183	,	-121.8608891	]	,
                [	44.56298282	,	-121.860673	]	,
                [	44.56302247	,	-121.8605236	]	,
                [	44.56304762	,	-121.8603737	]	,
                [	44.56296941	,	-121.8602334	]	,
                [	44.56290957	,	-121.8602158	]	,
                [	44.56285332	,	-121.8602649	]	,
                [	44.56277235	,	-121.8602175	]	,
                [	44.5627576	,	-121.8602009	]	,
                [	44.56274947	,	-121.8601761	]	,
                [	44.56264168	,	-121.8600248	]	,
                [	44.56254646	,	-121.8599856	]	,
                [	44.56259432	,	-121.859938	]	,
                [	44.56260027	,	-121.8599178	]	,
                [	44.56266548	,	-121.8598554	]	,
                [	44.56270605	,	-121.8598036	]	,
                [	44.56280781	,	-121.8598046	]	,
                [	44.5628208	,	-121.8598054	]	,
                [	44.56290915	,	-121.8598694	]	,
                [	44.56291921	,	-121.8597939	]	,
                [	44.56298986	,	-121.8597126	]	,
                [	44.56303127	,	-121.8595487	]	,
                [	44.56302322	,	-121.8594714	]	,
                [	44.56302708	,	-121.8593429	]	,
                [	44.56306555	,	-121.859183	]	,
                [	44.5631539	,	-121.8590768	]	,
                [	44.56325389	,	-121.8590454	]	,
                [	44.56337795	,	-121.8590234	]	,
                [	44.56346964	,	-121.8589433	]	,
                [	44.56349144	,	-121.8589281	]	,
                [	44.56351792	,	-121.8589017	]	,
                [	44.56363066	,	-121.858755	]	,
                [	44.56371741	,	-121.8586248	]	,
                [	44.56384683	,	-121.8585272	]	,
                [	44.56397583	,	-121.8584923	]	,
                [	44.56406157	,	-121.8584966	]	,
                [	44.56419476	,	-121.8584317	]	,
                [	44.56431253	,	-121.8583949	]	,
                [	44.56435947	,	-121.8583822	]	,
                [	44.56443558	,	-121.8583561	]	,
                [	44.56445083	,	-121.8583747	]	,
                [	44.56463112	,	-121.8585122	]	,
                [	44.56468955	,	-121.8587049	]	,
                [	44.56483858	,	-121.8589004	]	,
                [	44.56497126	,	-121.8590491	]	,
                [	44.56508945	,	-121.8591292	]	,
                [	44.56522976	,	-121.8590816	]	,
                [	44.56536404	,	-121.8590091	]	,
                [	44.56554341	,	-121.8590227	]	,
                [	44.56569504	,	-121.8591135	]	,
                [	44.56591163	,	-121.8591468	]	,
                [	44.56601422	,	-121.8591761	]	,
                [	44.56614867	,	-121.8592338	]	,
                [	44.56626006	,	-121.859184	]	,
                [	44.56636853	,	-121.8591295	]	,
                [	44.56650205	,	-121.8590705	]	,
                [	44.56663415	,	-121.8590561	]	,
                [	44.56671369	,	-121.8589891	]	,
                [	44.56683163	,	-121.8588904	]	,
                [	44.5669426	,	-121.8588657	]	,
                [	44.56708912	,	-121.8587905	]	,
                [	44.56722055	,	-121.8587532	]	,
                [	44.56743705	,	-121.8587487	]	,
                [	44.56755817	,	-121.8587663	]	,
                [	44.56770351	,	-121.858736	]	,
                [	44.56776663	,	-121.8587336	]	,
                [	44.56789487	,	-121.8586651	]	,
                [	44.56800509	,	-121.8585542	]	,
                [	44.56807081	,	-121.8584107	]	,
                [	44.56805228	,	-121.858166	]	,
                [	44.56819335	,	-121.8579905	]	,
                [	44.56823333	,	-121.8578631	]	,
                [	44.5683594	,	-121.8577289	]	,
                [	44.56859853	,	-121.8576372	]	,
                [	44.56871437	,	-121.8575285	]	,
                [	44.56887983	,	-121.857509	]	,
                [	44.5689494	,	-121.8573664	]	,
                [	44.56903037	,	-121.8572444	]	,
                [	44.56915375	,	-121.8571659	]	,
                [	44.56933463	,	-121.8571282	]	,
                [	44.56948148	,	-121.8570423	]	,
                [	44.56963437	,	-121.8569113	]	,
                [	44.56975414	,	-121.8567571	]	,
                [	44.56989194	,	-121.8567758	]	,
                [	44.56993779	,	-121.8567905	]	,
                [	44.57009629	,	-121.856772	]	,
                [	44.57013602	,	-121.8567659	]	,
                [	44.5702133	,	-121.856695	]	,
                [	44.57031255	,	-121.856624	]	,
                [	44.57038111	,	-121.8564894	]	,
                [	44.57043266	,	-121.8563973	]	,
                [	44.5704604	,	-121.8563184	]	,
                [	44.57045537	,	-121.8562292	]	,
                [	44.57054674	,	-121.8561221	]	,
                [	44.57064707	,	-121.8561463	]	,
                [	44.57078671	,	-121.8560729	]	,
                [	44.57082518	,	-121.8560053	]	,
                [	44.57088352	,	-121.8558859	]	,
                [	44.57093197	,	-121.8557606	]	,
                [	44.57100003	,	-121.8555812	]	,
                [	44.57106239	,	-121.8554271	]	,
                [	44.57115945	,	-121.8552725	]	,
                [	44.57118787	,	-121.8551315	]	,
                [	44.57123036	,	-121.8549964	]	,
                [	44.57131033	,	-121.8549012	]	,
                [	44.57135341	,	-121.8547694	]	,
                [	44.5713638	,	-121.8546095	]	,
                [	44.57139096	,	-121.8544345	]	,
                [	44.57138945	,	-121.8543903	]	,
                [	44.57141477	,	-121.8543543	]	,
                [	44.57155667	,	-121.8543759	]	,
                [	44.57164007	,	-121.8544114	]	,
                [	44.57168668	,	-121.8543965	]	,
                [	44.57167804	,	-121.8543865	]	,
                [	44.57171031	,	-121.8543765	]	,
                [	44.57178768	,	-121.8543393	]	,
                [	44.57182573	,	-121.8543074	]	,
                [	44.57193444	,	-121.8542994	]	,
                [	44.57204022	,	-121.8543427	]	,
                [	44.57205565	,	-121.8543526	]	,
                [	44.57213092	,	-121.8543546	]	,
                [	44.57222773	,	-121.8544144	]	,
                [	44.5723921	,	-121.8544909	]	,
                [	44.57249603	,	-121.8545311	]	,
                [	44.57262243	,	-121.8545278	]	,
                [	44.57265839	,	-121.8545289	]	,
                [	44.57276048	,	-121.8545017	]	,
                [	44.57290239	,	-121.8543996	]	,
                [	44.57292326	,	-121.8543339	]	,
                [	44.57292586	,	-121.854343	]	,
                [	44.57290616	,	-121.8542987	]	,
                [	44.57295729	,	-121.8541916	]	,
                [	44.57301806	,	-121.8540215	]	,
                [	44.57307287	,	-121.8538957	]	,
                [	44.57311193	,	-121.8538179	]	,
                [	44.57319659	,	-121.8536821	]	,
                [	44.5732157	,	-121.8536374	]	,
                [	44.57323154	,	-121.8535486	]	,
                [	44.57326365	,	-121.8533673	]	,
                [	44.57330665	,	-121.8531737	]	,
                [	44.57330824	,	-121.8531348	]	,
                [	44.57334076	,	-121.8529565	]	,
                [	44.57335895	,	-121.8527706	]	,
                [	44.57337194	,	-121.8526208	]	,
                [	44.5734131	,	-121.8525543	]	,
                [	44.57348208	,	-121.8524607	]	,
                [	44.57352625	,	-121.8523595	]	,
                [	44.57354612	,	-121.8523259	]	,
                [	44.57362809	,	-121.8521845	]	,
                [	44.57364016	,	-121.8521668	]	,
                [	44.57365282	,	-121.8521183	]	,
                [	44.57370604	,	-121.851968	]	,
                [	44.57370998	,	-121.8519561	]	,
                [	44.57372457	,	-121.8519031	]	,
                [	44.57368291	,	-121.8517373	]	,
                [	44.57364444	,	-121.8515634	]	,
                [	44.57364276	,	-121.8514461	]	,
                [	44.57364779	,	-121.851397	]	,
                [	44.57370873	,	-121.8513281	]	,
                [	44.57378391	,	-121.8512036	]	,
                [	44.57381736	,	-121.8511249	]	,
                [	44.57382725	,	-121.8509145	]	,
                [	44.57379028	,	-121.8507603	]	,
                [	44.57378517	,	-121.85064	]	,
                [	44.57376212	,	-121.8505189	]	,
                [	44.57377679	,	-121.8504459	]	,
                [	44.57383714	,	-121.8503513	]	,
                [	44.57387469	,	-121.8502701	]	,
                [	44.57394116	,	-121.8502015	]	,
                [	44.57396764	,	-121.8501508	]	,
                [	44.57403076	,	-121.8501665	]	,
                [	44.57403361	,	-121.850138	]	,
                [	44.57405062	,	-121.8501458	]	,
                [	44.57416495	,	-121.8501338	]	,
                [	44.57434013	,	-121.8500457	]	,
                [	44.57448506	,	-121.8499219	]	,
                [	44.57460467	,	-121.8497582	]	,
                [	44.57470232	,	-121.8496425	]	,
                [	44.57479712	,	-121.8495686	]	,
                [	44.57495009	,	-121.8494078	]	,
                [	44.57505084	,	-121.8492863	]	,
                [	44.57515125	,	-121.8492093	]	,
                [	44.5753069	,	-121.8489926	]	,
                [	44.5754064	,	-121.8488516	]	,
                [	44.57545719	,	-121.8487039	]	,
                [	44.57556901	,	-121.8485434	]	,
                [	44.57563128	,	-121.848416	]	,
                [	44.57567076	,	-121.8483457	]	,
                [	44.57577185	,	-121.8482832	]	,
                [	44.57588425	,	-121.8481287	]	,
                [	44.57589917	,	-121.8480322	]	,
                [	44.57592448	,	-121.8480252	]	,
                [	44.57602398	,	-121.8478992	]	,
                [	44.57609279	,	-121.8477955	]	,
                [	44.57613504	,	-121.8477051	]	,
                [	44.57618038	,	-121.8476392	]	,
                [	44.57632178	,	-121.8475726	]	,
                [	44.57644542	,	-121.8474773	]	,
                [	44.57664541	,	-121.847328	]	,
                [	44.57678304	,	-121.8472223	]	,
                [	44.57684012	,	-121.8471213	]	,
                [	44.57687641	,	-121.8470347	]	,
                [	44.57688446	,	-121.8469502	]	,
                [	44.57693215	,	-121.8468923	]	,
                [	44.57700072	,	-121.8468117	]	,
                [	44.57703869	,	-121.8467297	]	,
                [	44.57705411	,	-121.8466922	]	,
                [	44.57711781	,	-121.8465324	]	,
                [	44.57714011	,	-121.8464639	]	,
                [	44.57716199	,	-121.8464705	]	,
                [	44.57722167	,	-121.8464258	]	,
                [	44.57726902	,	-121.8463511	]	,
                [	44.5772764	,	-121.8461918	]	,
                [	44.57727942	,	-121.8461682	]	,
                [	44.57732267	,	-121.8460333	]	,
                [	44.57732015	,	-121.845929	]	,
                [	44.57741386	,	-121.8457736	]	,
                [	44.57743021	,	-121.8457334	]	,
                [	44.57750858	,	-121.8456038	]	,
                [	44.5775608	,	-121.8455568	]	,
                [	44.57767563	,	-121.8454987	]	,
                [	44.57789482	,	-121.8454731	]	,
                [	44.57801317	,	-121.8455658	]	,
                [	44.57812423	,	-121.8454677	]	,
                [	44.57815466	,	-121.845478	]	,
                [	44.57818852	,	-121.84545	]	,
                [	44.57818919	,	-121.8454399	]	,
                [	44.5781974	,	-121.8452677	]	,
                [	44.5782249	,	-121.8452234	]	,
                [	44.57826253	,	-121.8450736	]	,
                [	44.57835088	,	-121.8451261	]	,
                [	44.57842573	,	-121.8451332	]	,
                [	44.5784953	,	-121.8452123	]	,
                [	44.57857685	,	-121.8452551	]	,
                [	44.57864684	,	-121.8452135	]	,
                [	44.57874918	,	-121.8451924	]	,
                [	44.57889914	,	-121.8452682	]	,
                [	44.57896083	,	-121.8452713	]	,
                [	44.57905102	,	-121.8451911	]	,
                [	44.57916325	,	-121.8451546	]	,
                [	44.57919208	,	-121.8450885	]	,
                [	44.57920373	,	-121.8450309	]	,
                [	44.57923776	,	-121.8449318	]	,
                [	44.57923852	,	-121.8449262	]	,
                [	44.57930742	,	-121.8448239	]	,
                [	44.57938537	,	-121.8447642	]	,
                [	44.57935209	,	-121.8446039	]	,
                [	44.57938923	,	-121.8444275	]	,
                [	44.57942644	,	-121.8442501	]	,
                [	44.57942661	,	-121.8441457	]	,
                [	44.57945293	,	-121.8440373	]	,
                [	44.5794515	,	-121.8439696	]	,
                [	44.57947204	,	-121.8438136	]	,
                [	44.57947816	,	-121.8436997	]	,
                [	44.57951755	,	-121.8435708	]	,
                [	44.57958209	,	-121.8435198	]	,
                [	44.57966725	,	-121.8434266	]	,
                [	44.57971201	,	-121.8433304	]	,
                [	44.57979424	,	-121.8431993	]	,
                [	44.57984637	,	-121.8430496	]	,
                [	44.57990178	,	-121.8428994	]	,
                [	44.57996196	,	-121.8427643	]	,
                [	44.58004436	,	-121.8427125	]	,
                [	44.5801187	,	-121.8426516	]	,
                [	44.58020797	,	-121.8426317	]	,
                [	44.58027863	,	-121.8425719	]	,
                [	44.58035901	,	-121.8425196	]	,
                [	44.58043462	,	-121.842531	]	,
                [	44.58043856	,	-121.842595	]	,
                [	44.58048985	,	-121.8426676	]	,
                [	44.58054014	,	-121.8427018	]	,
                [	44.58056336	,	-121.8427296	]	,
                [	44.58057753	,	-121.8427322	]	,
                [	44.58062815	,	-121.8426502	]	,
                [	44.58070896	,	-121.8425976	]	,
                [	44.58079236	,	-121.8425198	]	,
                [	44.58087894	,	-121.8424077	]	,
                [	44.5809501	,	-121.8423021	]	,
                [	44.58097592	,	-121.842204	]	,
                [	44.58102018	,	-121.8421858	]	,
                [	44.58104013	,	-121.8420787	]	,
                [	44.58109343	,	-121.842068	]	,
                [	44.58112654	,	-121.8420691	]	,
                [	44.58123526	,	-121.8420423	]	,
                [	44.58127021	,	-121.8420222	]	,
                [	44.58141304	,	-121.8419906	]	,
                [	44.58150649	,	-121.841933	]	,
                [	44.58152452	,	-121.84192	]	,
                [	44.5816246	,	-121.8418278	]	,
                [	44.5816505	,	-121.8418145	]	,
                [	44.58170213	,	-121.8417989	]	,
                [	44.58174965	,	-121.841756	]	,
                [	44.58185434	,	-121.8417178	]	,
                [	44.58200723	,	-121.8417385	]	,
                [	44.58213832	,	-121.8417061	]	,
                [	44.58221929	,	-121.8416443	]	,
                [	44.58230395	,	-121.8416099	]	,
                [	44.58240009	,	-121.8415831	]	,
                [	44.5824933	,	-121.8415153	]	,
                [	44.58256211	,	-121.8414628	]	,
                [	44.5826435	,	-121.8413645	]	,
                [	44.58271206	,	-121.8412485	]	,
                [	44.58278532	,	-121.841192	]	,
                [	44.58283377	,	-121.8412047	]	,
                [	44.5828885	,	-121.8411967	]	,
                [	44.58299152	,	-121.8411951	]	,
                [	44.5830983	,	-121.8411099	]	,
                [	44.58321548	,	-121.8410118	]	,
                [	44.5832703	,	-121.8409485	]	,
                [	44.58337147	,	-121.8408656	]	,
                [	44.58342318	,	-121.8408111	]	,
                [	44.58342662	,	-121.8407421	]	,
                [	44.58346333	,	-121.8406566	]	,
                [	44.58349502	,	-121.8406225	]	,
                [	44.58357079	,	-121.8404567	]	,
                [	44.58361974	,	-121.8403297	]	,
                [	44.58363047	,	-121.8402235	]	,
                [	44.58366659	,	-121.840095	]	,
                [	44.58375636	,	-121.8399471	]	,
                [	44.58374136	,	-121.8398291	]	,
                [	44.58383013	,	-121.8397302	]	,
                [	44.58392258	,	-121.839579	]	,
                [	44.58392627	,	-121.8395685	]	,
                [	44.58393046	,	-121.8395375	]	,
                [	44.58394068	,	-121.8394554	]	,
                [	44.58392744	,	-121.8394422	]	,
                [	44.58390866	,	-121.8394242	]	,
                [	44.58386893	,	-121.8393324	]	,
                [	44.58391403	,	-121.8393239	]	,
                [	44.58396977	,	-121.8392884	]	,
                [	44.58403682	,	-121.8392969	]	,
                [	44.58409265	,	-121.8392807	]	,
                [	44.5841126	,	-121.8392519	]	,
                [	44.58416976	,	-121.8392884	]	,
                [	44.5842177	,	-121.8393589	]	,
                [	44.58428811	,	-121.8394673	]	,
                [	44.58437227	,	-121.839596	]	,
                [	44.58443572	,	-121.8396679	]	,
                [	44.58454418	,	-121.8397169	]	,
                [	44.5846192	,	-121.839742	]	,
                [	44.58467544	,	-121.8397068	]	,
                [	44.58474325	,	-121.8396297	]	,
                [	44.58483612	,	-121.839599	]	,
                [	44.58493478	,	-121.8395835	]	,
                [	44.58495825	,	-121.8395832	]	,
                [	44.58507073	,	-121.8396059	]	,
                [	44.58512823	,	-121.8397193	]	,
                [	44.5851569	,	-121.8397683	]	,
                [	44.58523409	,	-121.8397649	]	,
                [	44.58533904	,	-121.8397936	]	,
                [	44.58534976	,	-121.8397527	]	,
                [	44.58537256	,	-121.8397202	]	,
                [	44.5854055	,	-121.8396423	]	,
                [	44.58548672	,	-121.8395815	]	,
                [	44.58556568	,	-121.8396194	]	,
                [	44.58564917	,	-121.8395976	]	,
                [	44.58594513	,	-121.8401321	]	,
                [	44.58598821	,	-121.840201	]	,
                [	44.58603473	,	-121.8402363	]	,
                [	44.58605971	,	-121.8402266	]	,
                [	44.58614789	,	-121.8402565	]	,
                [	44.58618888	,	-121.8403525	]	,
                [	44.58621955	,	-121.8403762	]	,
                [	44.58625752	,	-121.840398	]	,
                [	44.58626566	,	-121.8403932	]	,
                [	44.58633196	,	-121.8404025	]	,
                [	44.58638082	,	-121.8404197	]	,
                [	44.5864452	,	-121.8404755	]	,
                [	44.58649037	,	-121.8405333	]	,
                [	44.58651309	,	-121.8405683	]	,
                [	44.58653036	,	-121.8405102	]	,
                [	44.58655056	,	-121.8404648	]	,
                [	44.58656648	,	-121.840531	]	,
                [	44.58666874	,	-121.8405608	]	,
                [	44.58671593	,	-121.8405459	]	,
                [	44.58672012	,	-121.8404683	]	,
                [	44.58677821	,	-121.8404423	]	,
                [	44.58688022	,	-121.8405495	]	,
                [	44.58697217	,	-121.8405782	]	,
                [	44.58707308	,	-121.8405407	]	,
                [	44.58710586	,	-121.8404546	]	,
                [	44.58718088	,	-121.840357	]	,
                [	44.58723444	,	-121.8403126	]	,
                [	44.58731214	,	-121.8403178	]	,
                [	44.58734415	,	-121.8403162	]	,
                [	44.58740098	,	-121.8403174	]	,
                [	44.58744734	,	-121.840347	]	,
                [	44.58747542	,	-121.8403731	]	,
                [	44.58748799	,	-121.8403854	]	,
                [	44.58750115	,	-121.8404042	]	,
                [	44.58752336	,	-121.8404036	]	,
                [	44.5875584	,	-121.8403813	]	,
                [	44.58759477	,	-121.8404685	]	,
                [	44.5876045	,	-121.8405511	]	,
                [	44.5876345	,	-121.8406111	]	,
                [	44.58770634	,	-121.840654	]	,
                [	44.5877604	,	-121.8406722	]	,
                [	44.58784908	,	-121.8406196	]	,
                [	44.58790951	,	-121.8405881	]	,
                [	44.58796944	,	-121.8405616	]	,
                [	44.58799534	,	-121.8405659	]	,
                [	44.58806098	,	-121.8405545	]	,
                [	44.58806567	,	-121.8405436	]	,
                [	44.58812426	,	-121.8404756	]	,
                [	44.58811512	,	-121.8404565	]	,
                [	44.588123	,	-121.8404402	]	,
                [	44.58818117	,	-121.8403392	]	,
                [	44.58822995	,	-121.8402169	]	,
                [	44.5882515	,	-121.8401674	]	,
                [	44.58832308	,	-121.8401194	]	,
                [	44.58832744	,	-121.8401115	]	,
                [	44.58835526	,	-121.8400415	]	,
                [	44.58841419	,	-121.8399889	]	,
                [	44.58843967	,	-121.8399662	]	,
                [	44.58844512	,	-121.8399106	]	,
                [	44.58850094	,	-121.8398392	]	,
                [	44.58853732	,	-121.8397991	]	,
                [	44.58857814	,	-121.8397701	]	,
                [	44.58863782	,	-121.839743	],], {color: "#ff0047", weight: 2}

            ).addTo(map);


            function showMapView(key) {

                fg.clearLayers();
                if (key === 'overview') {
                    map.setView(initPoint, initZoom, true);
                } else if (markers[key]) {
                    var marker = markers[key];
                    var layer = marker.layer;
                    if (typeof layer !== 'undefined') {
                        fg.addLayer(layer);
                    }
                    fg.addLayer(L.marker([marker.lat, marker.lon]));

                    map.setView([marker.lat, marker.lon], marker.zoom, 1);
                }







            }

            paragraphs.on('viewing', function () {
                showMapView($(this).data('place'));
            });
        };






        makeStoryMap(this, settings.markers);

        return this;
    }

}(jQuery));